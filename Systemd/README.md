### **OTUS — Administrator Linux. Professional.**  
#### **Домашнее задание №10 — Systemd: создание unit-файла**

**Цель:**  
Научиться редактировать существующие и создавать собственные unit-файлы для systemd.

**Критерии приёма:**  
В рамках задания реализованы следующие требования:
1. Написан service, который раз в 30 секунд проверяет лог на наличие ключевого слова (параметры указываются в `/etc/default`);
2. Установлен `spawn-fcgi`, создан unit-файл `spawn-fcgi.service` на основе init-скрипта;
3. Доработан `nginx.service` для запуска нескольких инстансов nginx с разными конфигурационными файлами.

---

#### **Описание реализации**

Реализация выполнена в соответствии с методическим материалом:  
[Документация](https://docs.google.com/document/d/1jTq4l4UD1CF9C_VFqGXZYunXA2RUap70CfKm_6OXZBU/edit?usp=sharing)

##### Запуск playbook.
После запуска виртуальной машины запускаем плэйбук:
```
$ ansible-playbook -i hosts systemd.yml
```
И через его отработку видим выполнение заданий (файл ansible-res.txt)

##### Реализовано:
- systemd unit-файл `logwatch.service` запускает скрипт проверки ключевого слова в логе с интервалом в 30 секунд;
- файл `/etc/default/logwatch` содержит путь к логу и ключевое слово;
- собран `spawn-fcgi.service` на базе init-скрипта, с ручной адаптацией под systemd;
- nginx настроен с шаблоном unit-файла, позволяющим запускать несколько инстансов с разными конфигами (через шаблон `nginx@.service`).

---

#### **Вывод**

В результате:
- созданы и адаптированы собственные systemd unit-файлы;
- обеспечен запуск и контроль сервисов через systemctl;
- применена автоматизация через Vagrant + Ansible;
- реализован опыт работы с пользовательскими и шаблонными unit-юнитами.
