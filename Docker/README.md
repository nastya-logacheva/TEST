### **OTUS — Administrator Linux. Professional.**  
#### **Домашнее задание №14 — Docker**

**Цель:**  
Разобраться с основами Docker: контейнеры, образы, экосистема, а также получить практический опыт работы с Dockerfile и Docker Hub.

**Критерии приёма:**  
1. Создан собственный образ `nginx` на базе Alpine Linux;
2. При запуске контейнер отдаёт кастомную страницу;
3. Написан вывод о разнице между контейнером и образом;
4. Дано пояснение — можно ли собрать ядро в контейнере;
5. Образ опубликован в Docker Hub с указанием ссылки.

---

#### **Ход выполнения**

1. **Создание Dockerfile:**
   - Базовый образ: `alpine:latest`;
   - Установлен `nginx`;
   - Создана своя HTML-страница в `/usr/share/nginx/html/index.html`;
   - `CMD` запускает `nginx` в фоновом режиме (`daemon off;`).

2. **Сборка и тестирование контейнера:**
   ```
   docker build -t nastya/nginx-alpine .
   docker run -d -p 8080:80 nastya/nginx-alpine
   ```
   - Проверка: переход на `http://localhost:8080` показывает кастомную страницу.

3. **Публикация в Docker Hub:**
   ```
   docker tag nastya-logacheva/nginx-alpine nastya-logacheva/nginx-alpine
   docker push nastya-logacheva/nginx-alpine
   ```
   сылка на репозиторий:
   [https://hub.docker.com/repository/docker/nastya-logacheva/nginx-alpine](https://hub.docker.com/repository/docker/nastya-logacheva/nginx-alpine)

4. **Интеграция с Ansible:**
   - Написан плейбук, устанавливающий Docker и запускающий образ;
   - Реализация протестирована через `vagrant up` с отключённым shell-провижином.

5. **Ответы на вопросы:**
   - **Разница между контейнером и образом:**
     - *Образ* — это шаблон (слепок), из которого запускаются *контейнеры*. Контейнер — это работающая инстанция образа.
   - **Можно ли собрать ядро в контейнере?**
     - Теоретически — да, если установить компиляторы и зависимости, но практически — нецелесообразно. Контейнер не изолирует хост достаточно сильно для сборки ядра и не предоставляет прямого доступа к аппаратным ресурсам.

---

#### **Вывод**

В ходе выполнения:
- создан Dockerfile на базе Alpine;
- кастомный nginx-образ успешно собран и протестирован;
- реализована публикация образа в Docker Hub;
- работа обёрнута в Ansible-автоматизацию;
- даны развернутые ответы на теоретические вопросы.
